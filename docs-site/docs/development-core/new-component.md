---
position: 2
---

# Creating a new component

[[toc]]

## Quick start

### 1. Generate boilerplate code

To generate the boilerplate code for a new component, run the following command with `example` and `simple` replaced with the desired component name and type. Valid types are `simple`, `complex`, and `wrapper`.

Note: If using PowerShell **or** WSL with Node aliased to PowerShell, do not use equals signs.

::: tabs#shell
@tab WSL (Bash)
```bash:no-line-numbers
npm run generate component -- --name=YourThing --type=simple
```
@tab PowerShell
```powershell:no-line-numbers
npm run generate component -- --name YourThing --type simple
```
:::

### 2. Compile assets

Add the SCSS file to `blocks.scss` or `template-parts.scss` (depending on what it is) in the WordPress plugin and run SASS to compile those. Alternatively you can set up [file watchers in PhpStorm](./tooling/phpstorm.md) to automatically compile all the SASS on save.

::: details SASS terminal commands

::: tabs#shell
@tab WSL (Bash)
```bash:no-line-numbers
cd packages/comet-plugin/src
```
```bash:no-line-numbers
sass blocks.scss:blocks.css
```
```bash:no-line-numbers
sass template-parts.scss:template-parts.css
```
```bash:no-line-numbers
sass editor.scss:editor.css
```
@tab PowerShell
```powershell:no-line-numbers
cd packages/comet-plugin/src
```
```powershell:no-line-numbers
sass blocks.scss:blocks.css
```
```powershell:no-line-numbers
sass template-parts.scss:template-parts.css
```
```powershell:no-line-numbers
sass editor.scss:editor.css
```
:::

If you add a custom front-end JavaScript file, add it to `rollup.index.js` in the Core package and run Rollup to update the bundle. (You can set up a [file watcher](./tooling/phpstorm.md) for this too.)

```bash:no-line-numbers
npm run build
```

### 3. Generate documentation

Once you have added fields and docblock comments to a component, generate the JSON definition file and [Tycho Template syntax](../usage/overview.md#tycho-template-syntax) XML definition file:

::: tabs#shell
@tab WSL (Bash)
```bash:no-line-numbers
php scripts/generate-json-defs.php --component Example
```
@tab PowerShell
```powershell:no-line-numbers
php scripts/generate-json-defs.php --component Example
```
:::

### 4. Prepare for browser testing

1. Generate the boilerplate code for a browser example page and Storybook story:

   ::: tabs#shell
   @tab WSL (Bash)
   ```bash:no-line-numbers
   php scripts/generate-stories.php --component Example
   ```
   @tab PowerShell
   ```powershell:no-line-numbers
   php scripts/generate-stories.php --component Example
   ```
   :::

2. Update the symlinks so the local web server/Storybook can access the CSS and JS files:

   ::: tabs#shell
   @tab PowerShell
   ```powershell:no-line-numbers
   npm run refresh:symlinks
   ```
   :::

3. Update the generated file in `./test/browser/components` to have suitable demo content and handle `$_REQUEST` parameters if the basic handling generated by the script is not sufficient.

4. Update the Storybook file in `./test/browser/stories` to ensure suitable examples are shown.

### 5. View in Storybook

Run the local web server and Storybook (in two separate terminal tabs) to view the new component in the browser:

::: tabs#shell
@tab WSL (Bash)
```bash:no-line-numbers
npm run test:server
```
```bash:no-line-numbers
npm run test:storybook
```
@tab PowerShell
```powershell:no-line-numbers
npm run test:server
```
```powershell:no-line-numbers
npm run test:storybook
```
:::

## Further reading

- See the [PHP Architecture](../technical-deep-dives/php-architecture/traits.md) section for details on the abstract classes you can use as a base for your component, the traits you can use to handle attributes that are used by multiple components in a consistent way, and some data types you can use for attributes.
- See the [JavaScript Overview](../technical-deep-dives/javascript.md) page for details on how to use vanilla JavaScript to add simple client-side interactivity to your components.
- See the [JavaScript Advanced: Vue.js](../technical-deep-dives/vue.md) page for details on how to selectively use Vue.js for a component for more advanced client-side interactivity and reactivity.
