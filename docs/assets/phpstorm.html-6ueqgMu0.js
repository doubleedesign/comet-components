import{_ as l,a as d}from"./phpstorm-node-CwCCwWRE.js";import{_ as c,a as p,b as h}from"./phpstorm-pest-BgRv9WN-.js";import{_ as u,c as g,b as t,a as m,d as o,e as a,w as i,r,o as f}from"./app-BggY5-ut.js";const b="/docs/phpstorm-scss-filewatcher.png",w="/docs/phpstorm-save.png",y="/docs/phpstorm-blade-filewatcher.png",v="/docs/phpstorm-eslint.png",S={},P={class:"hint-container important"},k={class:"table-of-contents"};function x(L,e){const s=r("RouteLink"),n=r("router-link");return f(),g("div",null,[e[12]||(e[12]=t("h1",{id:"phpstorm-development-environment-setup",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#phpstorm-development-environment-setup"},[t("span",null,"PhpStorm development environment setup")])],-1)),t("div",P,[e[5]||(e[5]=t("p",{class:"hint-container-title"},"Important",-1)),t("p",null,[e[2]||(e[2]=o("Ensure you have ")),a(s,{to:"/local-dev-deep-dives/tooling-guides/php.html"},{default:i(()=>e[0]||(e[0]=[o("PHP")])),_:1}),e[3]||(e[3]=o(" and ")),a(s,{to:"/local-dev-deep-dives/tooling-guides/node.html"},{default:i(()=>e[1]||(e[1]=[o("Node")])),_:1}),e[4]||(e[4]=o(" set up locally before continuing."))])]),t("nav",k,[t("ul",null,[t("li",null,[a(n,{to:"#php-interpreter"},{default:i(()=>e[6]||(e[6]=[o("PHP interpreter")])),_:1})]),t("li",null,[a(n,{to:"#xdebug"},{default:i(()=>e[7]||(e[7]=[o("Xdebug")])),_:1})]),t("li",null,[a(n,{to:"#node"},{default:i(()=>e[8]||(e[8]=[o("Node")])),_:1})]),t("li",null,[a(n,{to:"#file-watchers"},{default:i(()=>e[9]||(e[9]=[o("File watchers")])),_:1})]),t("li",null,[a(n,{to:"#linting-and-formatting"},{default:i(()=>e[10]||(e[10]=[o("Linting and formatting")])),_:1})]),t("li",null,[a(n,{to:"#pest-for-unit-testing"},{default:i(()=>e[11]||(e[11]=[o("Pest (for unit testing)")])),_:1})])])]),e[13]||(e[13]=m('<h2 id="php-interpreter" tabindex="-1"><a class="header-anchor" href="#php-interpreter"><span>PHP interpreter</span></a></h2><p>For IDE tools such as the Pest test runner and Xdebug integration to work, you will need to set the PHP interpreter and language version. For consistency, usually this should be the same as the PHP instance you are using in your terminal.</p><p>You can find these settings in PhpStorm under <code>File &gt; Settings &gt; Languages &amp; Frameworks &gt; PHP</code>. If your PHP instance is not listed, click the 3 dots next to the dropdown and add it.</p><p>Below is an example of adding Laravel Herd&#39;s PHP 8.4 instance:</p><p><img src="'+l+'" alt="PHP interpreter settings"></p><p>Generally, it should pick up the configuration file (<code>php.ini</code>) automatically, but if you have some custom setup or problems with that you can set the path to your preferred file in the field provided in this dialog.</p><h2 id="xdebug" tabindex="-1"><a class="header-anchor" href="#xdebug"><span>Xdebug</span></a></h2><p>If you have <a href="https://xdebug.org/" target="_blank" rel="noopener noreferrer">Xdebug</a> installed and enabled in your PHP instance, PhpStorm will use it for debugging and code coverage reporting from unit tests. You can check if it is available in the interpreter settings as per the above.</p><h2 id="node" tabindex="-1"><a class="header-anchor" href="#node"><span>Node</span></a></h2><p>Ensure that PhpStorm&#39;s default Node interpreter matches the one you are using in your terminal. If this is not set correctly, tools like ESLint won&#39;t work in the editor and you may experience inconsistent or unexpected behaviour when switching between doing tasks in the terminal and the IDE.</p><p>You can find the setting for this in <code>Settings &gt; Languages &amp; Frameworks &gt; Node.js</code>.</p><p><img src="'+d+'" alt="Node settings"></p><h2 id="file-watchers" tabindex="-1"><a class="header-anchor" href="#file-watchers"><span>File watchers</span></a></h2><div class="hint-container info"><p class="hint-container-title">Info</p><p>These configurations are included in this repository (<code>.idea/watcherTasks.xml</code>) so it <em>should</em> all be there already. The below is a guide on how to set them up or edit them if necessary.</p></div><div class="hint-container warning"><p class="hint-container-title">Warning</p><p>If you add a new JS file, you need to add it to <code>rollup.index.js</code> so that Rollup knows to include it in the bundle. The watcher is not aware of new files automatically.</p></div><details class="hint-container details"><summary>Sass</summary><p>If you have installed Sass globally on your machine, you can set up a file watcher in PhpStorm to compile your SCSS to matching CSS files. This is particularly useful if using pure Dart Sass installed via Chocolatey in Windows. (Also, it&#39;s just neat to not have to run a command at all.)</p><p>PhpStorm will probably prompt you to set up a file watcher when you open a <code>.scss</code> file for the first time, but you can also find the configuration in <code>File &gt; Settings &gt; Tools &gt; File Watchers</code>. An example config looks like this:</p><p><img src="'+b+'" alt="Sass file watcher"></p><p>At the time of writing this, two Sass watchers are included the provided configuration:</p><ol><li>To compile the core package&#39;s individual components&#39; SCSS files to CSS files in the same directory</li><li>To compile the <code>blocks.scss</code> file in the WordPress plugin package, which imports files from the core package; the<br> watcher also watches those.</li></ol><p>The difference between the two is that the core one is scoped to a custom scope of just that package folder (you can create this under <code>Files to watch -&gt; Scope -&gt;</code> click the 3 dots), whereas the WordPress plugin one is scoped to the entire project so that the core package&#39;s files are also watched.</p></details><details class="hint-container details"><summary>Rollup (JavaScript bundling)</summary><p>If you are working on the core package, you can set up a file watcher to bundle the component JS files into a single file automatically on save.</p><p>In <code>File &gt; Settings &gt; Tools &gt; File Watchers</code>:</p><p><img src="'+c+'" alt="Rollup file watcher"></p></details><h2 id="linting-and-formatting" tabindex="-1"><a class="header-anchor" href="#linting-and-formatting"><span>Linting and formatting</span></a></h2><details class="hint-container details"><summary>PHP (General)</summary><p>A standalone formatter has not been configured for PHP in this project (other than Blade templates as per the file watcher detailed above). The author&#39;s preferred configuration is included in the repository for PhpStorm&#39;s built-in formatter. You can find these settings in <code>File &gt; Settings &gt; Editor &gt; Code Style &gt; PHP</code>, selecting <code>Project</code> in the <code>Scheme</code> dropdown at the top should you need to modify them.</p><p>You can enable enforcing formatting rules on save in <code>File &gt; Settings &gt; Tools &gt; Actions on save</code> by ticking the <code>Reformat code</code> option.</p><p>⚠️ Important: Ensure JavaScript and TypeScript are not ticked in the list of file types to reformat on save, to avoid conflicts with ESLint.</p><p><img src="'+w+'" alt="Actions on save.png"></p></details><details class="hint-container details"><summary>PHP (Blade templates)</summary><p>If you are working on the core package (or an implementation where you are overriding Blade templates) you can set up a file watcher to format Blade templates on save using <a href="https://github.com/shufo/blade-formatter" target="_blank" rel="noopener noreferrer">blade-formatter</a>. Configuration for this is included in the <code>core</code> package directory.</p><p>In <code>File &gt; Settings &gt; Tools &gt; File Watchers</code>:</p><p><strong>Using Node (suitable for Bash/WSL users):</strong><br><img src="'+y+'" alt="Blade file watcher"></p><p><strong>Using PowerShell:</strong><br><img src="'+p+'" alt="Blade file watcher PowerShell"></p><p><strong>Important:</strong> Ensure you exclude Blade files from PhpStorm&#39;s built-in reformatting, as it will cause conflicts. By default, Blade templates will adopt the HTML code style settings, which might not match what you want for Blade due to how it treats @directives as HTML attributes. You can find the setting to exclude Blade files in <code>File -&gt; Settings -&gt; Editor -&gt; Code Style</code>. Click Code Style itself at the top level, and then the <code>Formatter</code> tab.</p></details><details class="hint-container details"><summary>JavaScript and TypeScript</summary><p><a href="https://eslint.org/" target="_blank" rel="noopener noreferrer">ESLint</a> is configured for linting and formatting JavaScript and TypeScript code in this project. You can enable ESLint to pick up problems within the IDE as well as fix them automatically on save in <code>File &gt; Settings &gt; Languages &amp; Frameworks &gt; JavaScript &gt; Code Quality Tools &gt; ESLint</code>.</p><p>It <em>should</em> pick up the configuration file located in the root of the project (<code>./.eslint.config.js</code>), but you can set the path to your configuration manually if necessary or preferred.</p><p><img src="'+v+'" alt="Eslint on save"></p></details><h2 id="pest-for-unit-testing" tabindex="-1"><a class="header-anchor" href="#pest-for-unit-testing"><span>Pest (for unit testing)</span></a></h2><p>Configuration of Pest/PHPUnit is mostly handled in its configuration file (<code>./test/phpunit.xml</code>) and the Run configuration.</p><p>You can check and tweak the default settings for PhpStorm under <code>File &gt; Settings &gt; Languages &amp; Frameworks &gt; PHP &gt; Test Frameworks</code> (shown below) and for the run configuration under <code>Run &gt; Edit Configurations</code>.</p><p><img src="'+h+'" alt="Pest settings"></p>',25))])}const H=u(S,[["render",x]]),I=JSON.parse('{"path":"/local-dev-deep-dives/tooling-guides/phpstorm.html","title":"PhpStorm","lang":"en-AU","frontmatter":{"title":"PhpStorm"},"headers":[{"level":2,"title":"PHP interpreter","slug":"php-interpreter","link":"#php-interpreter","children":[]},{"level":2,"title":"Xdebug","slug":"xdebug","link":"#xdebug","children":[]},{"level":2,"title":"Node","slug":"node","link":"#node","children":[]},{"level":2,"title":"File watchers","slug":"file-watchers","link":"#file-watchers","children":[]},{"level":2,"title":"Linting and formatting","slug":"linting-and-formatting","link":"#linting-and-formatting","children":[]},{"level":2,"title":"Pest (for unit testing)","slug":"pest-for-unit-testing","link":"#pest-for-unit-testing","children":[]}],"git":{"updatedTime":1743834499000,"contributors":[{"name":"Leesa Ward","username":"","email":"leesa@doubleedesign.com.au","commits":8}],"changelog":[{"hash":"7d15f09f18c9133c0dce33d0572fe87f1ab2f50c","time":1743834499000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"Add to quick start detail page; improve overall navigation incl. adding in-page sticky menu for some pages"},{"hash":"9327d3d2a273c6125f395c48ab9acfe1e6b6df85","time":1743766162000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"Add quick start dev guide, move detail pages, and simplify sidebar"},{"hash":"1fc876f65b45e5157e264799d11a4001598c7f08","time":1743327721000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"Refactor tests: Migrate unit tests to Pest"},{"hash":"8b540960a2d2a19bf7530fc92ee7e0b606d5a3cb","time":1742900302000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"Docs: Various doc tweaks"},{"hash":"bd46ea421c43d7241b0682e551b9810fce24a5c8","time":1742709938000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"Docs: Finish migrating docs to VuePress"},{"hash":"593c083e86d6a8baa7e78e6af98e148d7f5d69b9","time":1742624410000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"More work on new docs; WIP on updating and improving doc generation for abstract classes/traits/types"},{"hash":"303cb71ac1533272d792db6690210a5dbf5cf23c","time":1742550096000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"Docs: Start basic VuePress site for Markdown docs"},{"hash":"497be2bccbfe9b52a6bd8cdcf9d3018f71401b0b","time":1740893136000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"Feat(IconWithText): Add IconWithText component"}]},"filePathRelative":"local-dev-deep-dives/tooling-guides/phpstorm.md"}');export{H as comp,I as data};
