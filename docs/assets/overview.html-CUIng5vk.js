import{_ as i,c as l,b as s,a as p,d as n,e as t,w as o,r,o as c}from"./app-kQtp0ML3.js";const d={},u={class:"table-of-contents"};function m(h,e){const a=r("router-link");return c(),l("div",null,[e[7]||(e[7]=s("h1",{id:"overview",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#overview"},[s("span",null,"Overview")])],-1)),e[8]||(e[8]=s("div",{class:"hint-container info"},[s("p",{class:"hint-container-title"},"Definition"),s("p",null,[n("An "),s("strong",null,"implementation"),n(" of Comet Components is an integration for a Content Management System (CMS) or other platform that allows the components to be used in that system. An implementation includes the core library (installed as a Composer dependency), any necessary plugins, and the platform-specific code required to make the components work in that system.")])],-1)),e[9]||(e[9]=s("p",null,"This page provides an overview of the elements required to integrate Comet Components into a CMS or other system. This also encompasses the requirements for a one-off integration in a custom projet.",-1)),s("nav",u,[s("ul",null,[s("li",null,[t(a,{to:"#installation"},{default:o(()=>e[0]||(e[0]=[n("Installation")])),_:1})]),s("li",null,[t(a,{to:"#composer-autoloading"},{default:o(()=>e[1]||(e[1]=[n("Composer autoloading")])),_:1})]),s("li",null,[t(a,{to:"#setting-configuration"},{default:o(()=>e[2]||(e[2]=[n("Setting configuration")])),_:1})]),s("li",null,[t(a,{to:"#loading-assets"},{default:o(()=>e[3]||(e[3]=[n("Loading assets")])),_:1}),s("ul",null,[s("li",null,[t(a,{to:"#comet-s-assets"},{default:o(()=>e[4]||(e[4]=[n("Comet's assets")])),_:1})]),s("li",null,[t(a,{to:"#fonts-and-icons"},{default:o(()=>e[5]||(e[5]=[n("Fonts and icons")])),_:1})])])]),s("li",null,[t(a,{to:"#theming-support"},{default:o(()=>e[6]||(e[6]=[n("Theming support")])),_:1})])])]),e[10]||(e[10]=p(`<h2 id="installation" tabindex="-1"><a class="header-anchor" href="#installation"><span>Installation</span></a></h2><p>Create your implementation as a Composer package with the Comet Components core library as a dependency. The basics of what to include in your <code>composer.json</code> are:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">	<span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;namespace/your-implementation-name&quot;</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token property">&quot;require&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token property">&quot;doubleedesign/comet-components-core&quot;</span><span class="token operator">:</span> <span class="token string">&quot;*&quot;</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Or if you have already set up your Composer configuration, you can install Comet with:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">composer</span> require doubleedesign/comet-components-core</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="composer-autoloading" tabindex="-1"><a class="header-anchor" href="#composer-autoloading"><span>Composer autoloading</span></a></h2><p>Comet Components Core uses Composer&#39;s autoloading system to load its classes. This means that to make the component classes available to your implementation, you need to ensure your implementation&#39;s autoloader is up-to-date:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">composer</span> dump-autoload <span class="token parameter variable">-o</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>And is loaded into your project, for example:</p><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php"><pre><code><span class="line"><span class="token keyword">require_once</span> <span class="token constant">__DIR__</span> <span class="token operator">.</span> <span class="token string single-quoted-string">&#39;/vendor/autoload.php&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="setting-configuration" tabindex="-1"><a class="header-anchor" href="#setting-configuration"><span>Setting configuration</span></a></h2><p>Implementations need a way to set the global configuration for the components, which are found in the <code>Config</code> class.</p><p>The most basic way, using the global background setting as an example, is like so:</p><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php"><pre><code><span class="line"><span class="token class-name static-context">Config</span><span class="token operator">::</span><span class="token function">set_global_background</span><span class="token punctuation">(</span><span class="token variable">$color</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Depending on the way your CMS works, you may need to do this in a particular place. For example, the Comet Canvas WordPress theme does it in an action hook (and provides a filter for child themes to change it).</p><details class="hint-container details"><summary>What if I don&#39;t do this?</summary><p>Nothing will break - the options will be set to their defaults.</p></details><h2 id="loading-assets" tabindex="-1"><a class="header-anchor" href="#loading-assets"><span>Loading assets</span></a></h2><h3 id="comet-s-assets" tabindex="-1"><a class="header-anchor" href="#comet-s-assets"><span>Comet&#39;s assets</span></a></h3><p>Implementations need a way to load Comet Components Core&#39;s CSS and JavaScript files. There are three asset loading methods you can choose from or use a combination of:</p><details class="hint-container details"><summary>Load the bundled CSS and JS</summary><p>The simplest way to load the assets is by loading the bundled JavaScript and CSS files using whatever method your system uses to put stuff in the document <code>&lt;head&gt;</code>.</p><p>The paths from your project root (or wherever your Composer <code>vendor</code> folder is) are:</p><div class="language-text" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">./vendor/doubleedesign/comet-components-core/dist/dist.js</span>
<span class="line"></span></code></pre></div><div class="language-text" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">./vendor/doubleedesign/comet-components-core/dist/dist.css</span>
<span class="line"></span></code></pre></div><p>The JavaScript file&#39;s <code>&lt;script&gt;</code> tag also requires the following attributes:</p><ol><li><code>type=&quot;module&quot;</code> so that ES module imports work</li><li><code>data-base-path</code> set to the <code>comet-components-core</code> directory so that Vue SFC Loader can find its templates</li></ol><p>An example of the result in WordPress is:</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>comet-components-js<span class="token punctuation">&quot;</span></span> </span>
<span class="line">		<span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>module<span class="token punctuation">&quot;</span></span> </span>
<span class="line">		<span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://vanilla-playground.local/wp-content/plugins/comet-plugin/vendor/doubleedesign/comet-components-core/dist/dist.js<span class="token punctuation">&quot;</span></span> </span>
<span class="line">		<span class="token attr-name">data-base-path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/wp-content/plugins/comet-plugin/vendor/doubleedesign/comet-components-core<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>
<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><details class="hint-container details"><summary>Use the Comet <code>Assets</code> class</summary><p>Component CSS and JS files that follow the kebab-case naming convention are automatically added to the <code>Assets</code> class, which has utility methods that can be used to load the global assets plus just the assets for components that have been rendered on the page.</p><p>The below methods will render the HTML for the global assets (such as <code>global.css</code>):</p><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php"><pre><code><span class="line"><span class="token class-name static-context">Assets</span><span class="token operator">::</span><span class="token function">get_instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">render_global_stylesheet_html</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name static-context">Assets</span><span class="token operator">::</span><span class="token function">get_instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">render_global_script_html</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>And these methods will render the HTML to load the assets for the components that have been rendered on the page, automatically ensuring they are not loaded multiple times if there is more than one instance of the component on the page:</p><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php"><pre><code><span class="line"><span class="token class-name static-context">Assets</span><span class="token operator">::</span><span class="token function">get_instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">render_component_stylesheet_html</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name static-context">Assets</span><span class="token operator">::</span><span class="token function">get_instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">render_component_script_html</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Examples of this in action for testing pages can be found in <code>./test/browser/wrapper-open.php</code> and <code>./test/browser/wrapper-close.php</code>.</p><div class="hint-container warning"><p class="hint-container-title">Warning</p><p>Remember, PHP reads your page top-to-bottom. This means that you can&#39;t load component assets in the <code>&lt;head&gt;</code> unless you have somehow instantiated the components before calling the asset loader there (<a href="https://www.php.net/manual/en/ref.outcontrol.php" target="_blank" rel="noopener noreferrer">output buffering</a> is one way you could do this). Loading assets at the bottom of the page is the easiest way to ensure that the assets are loaded after the components have been rendered, but can cause a flash of unstyled content (FOUC) when the page first loads.</p></div></details><details class="hint-container details"><summary>Load the global CSS + individual CSS and JS files</summary><p>Each component is designed to be fairly self-contained in terms of assets, so that you can load just what you need. How you achieve this depends on how your system determines which components are in use.</p><p>Some common styling is located in <code>global.css</code>, which you will need to load however your system handles loading site-wide CSS. The path from your project root (or wherever your Composer <code>vendor</code> folder is) is:</p><div class="language-text" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">./vendor/doubleedesign/comet-components-core/src/components/global.css</span>
<span class="line"></span></code></pre></div></details><details class="hint-container details"><summary>Your own bundling</summary><p>The source SCSS and JS files are included in the Composer installation. You can use these to build your own bundle(s) that contain only the components you need. This is a good option if you want to load a single CSS and/or JS file but reduce the size of it by only including the components you need.</p></details><h3 id="fonts-and-icons" tabindex="-1"><a class="header-anchor" href="#fonts-and-icons"><span>Fonts and icons</span></a></h3><p>Comet Components <em>supports</em> Font Awesome out of the box, but doesn&#39;t <em>provide</em> it - projects need to obtain their own licence and link the associated kit. This is similar for any other third-party font or icon library.</p><p>If you are intending to use web fonts loaded from Google Fonts, Adobe Fonts or similar; and/or icons using Font Awesome or another icon library that works similarly, you will need a method of loading the files they require into projects using your implementation. For example, in WordPress this is done using the <code>wp_enqueue_script</code> and <code>wp_enqueue_style</code> functions in themes.</p><h2 id="theming-support" tabindex="-1"><a class="header-anchor" href="#theming-support"><span>Theming support</span></a></h2><p>Implementations need a way for their usages to apply their own CSS. At a minimum, this is the ability to have a custom stylesheet that would contain CSS variables that match what Comet expects, but many implementations will have more complex requirements.</p><p>For example, in the WordPress implementation this is achieved through loading theme stylesheets and some custom code in the Comet Canvas parent theme to load <code>theme.json</code> variables as thes CSS variables that Comet Components expects. If your CMS also has a particular way that design tokens are set, you will need a way to get that to integrate with Comet.</p>`,29))])}const v=i(d,[["render",m]]),b=JSON.parse(`{"path":"/development-new/overview.html","title":"Overview","lang":"en-AU","frontmatter":{"position":0},"headers":[{"level":2,"title":"Installation","slug":"installation","link":"#installation","children":[]},{"level":2,"title":"Composer autoloading","slug":"composer-autoloading","link":"#composer-autoloading","children":[]},{"level":2,"title":"Setting configuration","slug":"setting-configuration","link":"#setting-configuration","children":[]},{"level":2,"title":"Loading assets","slug":"loading-assets","link":"#loading-assets","children":[{"level":3,"title":"Comet's assets","slug":"comet-s-assets","link":"#comet-s-assets","children":[]},{"level":3,"title":"Fonts and icons","slug":"fonts-and-icons","link":"#fonts-and-icons","children":[]}]},{"level":2,"title":"Theming support","slug":"theming-support","link":"#theming-support","children":[]}],"git":{"updatedTime":1744278659000,"contributors":[{"name":"Leesa Ward","username":"","email":"leesa@doubleedesign.com.au","commits":6}],"changelog":[{"hash":"a15837ec48fdd77da4ce7e31325a9252db56251f","time":1744278659000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"Feature: Some rudimentary first steps on dynamic asset loading; Refactor: Rename the config class"},{"hash":"45a77315c51e6532f20bf311c3ac48f46126e436","time":1744275231000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"Simplify Storybook/testing setup by removing the need for symlinks"},{"hash":"b9a8bb46ec370167c4c4711fe4653b09e411c060","time":1744024907000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"Add bundling of CSS; Docs: complete the New Implementations page"},{"hash":"7c6b592467a9b33fe36089b8d06e9a951bea8f0f","time":1743908004000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"Docs: Update Composer installation info; update build"},{"hash":"dc7397166b1c694a395356b72c0a26e691b15cdf","time":1743903664000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"Docs: Add more info to the New Implementations page; update build"},{"hash":"7d15f09f18c9133c0dce33d0572fe87f1ab2f50c","time":1743834499000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"Add to quick start detail page; improve overall navigation incl. adding in-page sticky menu for some pages"}]},"filePathRelative":"development-new/overview.md"}`);export{v as comp,b as data};
