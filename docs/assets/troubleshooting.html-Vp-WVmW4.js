import{_ as c,a as h}from"./phpstorm-node-CwCCwWRE.js";import{_ as m,a as g,b as f}from"./phpstorm-coverage-window-Bt5qCLDv.js";import{_ as b,c as v,b as e,a as r,e as o,w as s,d as n,r as d,o as w}from"./app-kQtp0ML3.js";const y="/docs/phpstorm-composer.png",k="/docs/phpstorm-phpini.png",P={},S={class:"table-of-contents"},x={class:"hint-container details"},I={class:"hint-container details"},L={class:"hint-container details"},W={class:"hint-container details"};function j(C,t){const l=d("router-link"),p=d("Tabs"),u=d("RouteLink");return w(),v("div",null,[t[34]||(t[34]=e("h1",{id:"troubleshooting",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#troubleshooting"},[e("span",null,"Troubleshooting")])],-1)),e("nav",S,[e("ul",null,[e("li",null,[o(l,{to:"#local-development-environment"},{default:s(()=>t[0]||(t[0]=[n("Local development environment")])),_:1})]),e("li",null,[o(l,{to:"#front-end-development"},{default:s(()=>t[1]||(t[1]=[n("Front-end development")])),_:1})]),e("li",null,[o(l,{to:"#testing"},{default:s(()=>t[2]||(t[2]=[n("Testing")])),_:1})])])]),t[35]||(t[35]=e("h2",{id:"local-development-environment",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#local-development-environment"},[e("span",null,"Local development environment")])],-1)),e("details",x,[t[9]||(t[9]=e("summary",null,"Where is PHP, Node, Composer, etc running from?",-1)),o(p,{id:"10",data:[{id:"WSL (Bash)"},{id:"PowerShell"},{id:"PhpStorm"}],"tab-id":"shell"},{title0:s(({value:a,isActive:i})=>t[3]||(t[3]=[n("WSL (Bash)")])),title1:s(({value:a,isActive:i})=>t[4]||(t[4]=[n("PowerShell")])),title2:s(({value:a,isActive:i})=>t[5]||(t[5]=[n("PhpStorm")])),tab0:s(({value:a,isActive:i})=>t[6]||(t[6]=[e("div",{class:"language-bash","data-highlighter":"prismjs","data-ext":"sh"},[e("pre",null,[e("code",null,[e("span",{class:"line"},[n("readlink "),e("span",{class:"token parameter variable"},"-f"),n(),e("span",{class:"token variable"},[e("span",{class:"token variable"},"$("),e("span",{class:"token function"},"which"),n(" php"),e("span",{class:"token variable"},")")])]),n(`
`),e("span",{class:"line"})])])],-1),e("div",{class:"language-bash","data-highlighter":"prismjs","data-ext":"sh"},[e("pre",null,[e("code",null,[e("span",{class:"line"},[n("readlink "),e("span",{class:"token parameter variable"},"-f"),n(),e("span",{class:"token variable"},[e("span",{class:"token variable"},"$("),e("span",{class:"token function"},"which"),n(),e("span",{class:"token function"},"composer"),e("span",{class:"token variable"},")")])]),n(`
`),e("span",{class:"line"})])])],-1),e("div",{class:"language-bash","data-highlighter":"prismjs","data-ext":"sh"},[e("pre",null,[e("code",null,[e("span",{class:"line"},[e("span",{class:"token function"},"which"),n(),e("span",{class:"token function"},"node")]),n(`
`),e("span",{class:"line"})])])],-1),e("div",{class:"language-bash","data-highlighter":"prismjs","data-ext":"sh"},[e("pre",null,[e("code",null,[e("span",{class:"line"},[e("span",{class:"token function"},"which"),n(" sass")]),n(`
`),e("span",{class:"line"})])])],-1)])),tab1:s(({value:a,isActive:i})=>t[7]||(t[7]=[e("div",{class:"language-powershell","data-highlighter":"prismjs","data-ext":"powershell"},[e("pre",null,[e("code",null,[e("span",{class:"line"},[e("span",{class:"token function"},"Get-Command"),n(" php")]),n(`
`),e("span",{class:"line"})])])],-1),e("div",{class:"language-powershell","data-highlighter":"prismjs","data-ext":"powershell"},[e("pre",null,[e("code",null,[e("span",{class:"line"},[e("span",{class:"token function"},"Get-Command"),n(" composer")]),n(`
`),e("span",{class:"line"})])])],-1),e("div",{class:"language-powershell","data-highlighter":"prismjs","data-ext":"powershell"},[e("pre",null,[e("code",null,[e("span",{class:"line"},[e("span",{class:"token function"},"Get-Command"),n(" node")]),n(`
`),e("span",{class:"line"})])])],-1),e("div",{class:"language-powershell","data-highlighter":"prismjs","data-ext":"powershell"},[e("pre",null,[e("code",null,[e("span",{class:"line"},[e("span",{class:"token function"},"Get-Command"),n(" sass")]),n(`
`),e("span",{class:"line"})])])],-1)])),tab2:s(({value:a,isActive:i})=>t[8]||(t[8]=[e("p",null,[n("Settings > PHP > CLI Interpreter"),e("br"),e("img",{src:c,alt:"phpstorm-php.png"})],-1),e("p",null,[n("Settings > PHP > Composer"),e("br"),e("img",{src:y,alt:"phpstorm-composer.png"})],-1),e("p",null,[n("If the "),e("strong",null,"Composer executable"),n(" is set to just "),e("code",null,"composer"),n(" like in the above example, it is using the global Composer installation which you can find using the"),e("br"),n(" terminal commands.")],-1),e("p",null,[n("Settings > Languages & Frameworks > Node.js"),e("br"),e("img",{src:h,alt:"phpstorm-node.png"})],-1)])),_:1})]),e("details",I,[t[16]||(t[16]=e("summary",null,"Where is my PHP configuration (php.ini) file?",-1)),t[17]||(t[17]=e("p",null,[n("⚠️ "),e("strong",null,"Note:"),n(" The browser dev/testing envrionment run with "),e("code",null,"npm run test:server"),n(" uses its own, separate config file. Similarly if you are developing a WordPress site using Local by Flywheel, your site will use the config set by Local.")],-1)),t[18]||(t[18]=e("p",null,"The below commands will show the configuration for your command line and/or IDE instance of PHP.",-1)),o(p,{id:"46",data:[{id:"WSL (Bash)"},{id:"PowerShell"},{id:"PhpStorm"}],"tab-id":"shell"},{title0:s(({value:a,isActive:i})=>t[10]||(t[10]=[n("WSL (Bash)")])),title1:s(({value:a,isActive:i})=>t[11]||(t[11]=[n("PowerShell")])),title2:s(({value:a,isActive:i})=>t[12]||(t[12]=[n("PhpStorm")])),tab0:s(({value:a,isActive:i})=>t[13]||(t[13]=[e("div",{class:"language-bash","data-highlighter":"prismjs","data-ext":"sh"},[e("pre",null,[e("code",null,[e("span",{class:"line"},[n("php "),e("span",{class:"token parameter variable"},"--ini")]),n(`
`),e("span",{class:"line"})])])],-1)])),tab1:s(({value:a,isActive:i})=>t[14]||(t[14]=[e("div",{class:"language-powershell","data-highlighter":"prismjs","data-ext":"powershell"},[e("pre",null,[e("code",null,[e("span",{class:"line"},[n("php "),e("span",{class:"token operator"},"--"),n("ini")]),n(`
`),e("span",{class:"line"})])])],-1)])),tab2:s(({value:a,isActive:i})=>t[15]||(t[15]=[e("ol",null,[e("li",null,"Go to File > Settings > Languages & Frameworks > PHP > CLI Interpreter"),e("li",null,[n("Click the "),e("code",null,"..."),n(" button next to the interpreter path")]),e("li",null,[n("In the dialog that appears, there will be a field to set the configuration file path. "),e("strong",null,"You do not need to do this if it has automatically been detected."),n(" Keep reading - look for the blue info icon with the configuration path below that. An example is pictured below."),e("br"),e("img",{src:k,alt:"phpstorm-php.png"})])],-1)])),_:1})]),e("details",L,[t[22]||(t[22]=r("<summary>&quot;Is not a valid Win32 application&quot; error when using a PhpStorm file watcher</summary><p>If this error is occurring for an NPM package and you ran <code>npm install</code> from WSL, it may not have installed the Windows binaries in the <code>node_modules/.bin</code> directory for the tool you&#39;re trying to use. There are two workarounds:</p><ol><li>Switch to PowerShell and run <code>npm install</code> again. Being a native Windows shell, it will install the Windows binaries.</li><li>In the file watcher configuration, set the <code>Program</code> to <code>node</code> and put the full CLI command for the tool in the <code>arguments</code> field.</li></ol>",3)),e("p",null,[t[20]||(t[20]=n("If this is occurring for Sass, consider ")),o(u,{to:"/tooling/sass.html"},{default:s(()=>t[19]||(t[19]=[n("installing Sass natively using Chocolatey")])),_:1}),t[21]||(t[21]=n(" and setting the file watcher to use that."))])]),t[36]||(t[36]=r('<details class="hint-container details"><summary>PhpStorm not detecting Xdebug when using Laravel Herd</summary><p>If you are trying to use Xdebug for unit test code coverage and nothing has triggered Herd&#39;s automatic Xdebug detection, you can enable it manually:</p><ol><li>Ensure the PHP version the default interpreter in PhpStorm (found in <code>Settings &gt; PHP</code>)is set to is the same as the one currently set as the global version in Herd. In the Herd dashboard, under <code>Active Services</code> it should also say that version is active with debugging - e.g., <code>PHP 8.4 (debug)</code></li><li>Back in PhpStorm &gt; <code>Settings &gt; PHP &gt; CLI Interpreter</code>, click the 3 dot button to go into the interpreter details and click the <code>Reload PHPInfo</code> button</li><li>If it&#39;s still not picking up Xdebug, try putting the path to the extension in the <code>Additional</code> section. This will be something like <code>C:\\Users\\YOUR_USERNAME\\.config\\herd\\bin\\xdebug\\xdebug-8.4.dll</code>. Click the reload button again, and it should pick it up if you have the file path correct.</li><li>In <code>Settings &gt; PHP &gt; PHP Runtime tab</code> and click &quot;sync extensions with interpreter&quot;.</li></ol><p>Below is an example of the CLI interpreter settings using this method:</p><p><img src="'+m+'" alt="PhpStorm CLI interpreter settings with Xdebug manually enabled"></p><p>Try running the unit tests with coverage again. If using the PhpStorm run configuration for PHPUnit, select &quot;Run [test config] with coverage&quot; as shown below:</p><p><img src="'+g+'" alt="Unit test run with coverage"></p><p>If it works, the <code>Coverage</code> tool window should populate when the tests have finished (and coverage data should be shown in the Project tool window and in the files themselves until you close the active suite in the Coverage tool window).</p><p>Below is an example of the test run output and the coverage tool window.</p><p>[<img src="'+f+`" alt="PhpStorm test run output and coverage"></p></details><details class="hint-container details"><summary>print_r, var_dump, etc output not shown in the browser</summary><p>If you are using the <code>TychoService</code> class to render your components, the output of <code>print_r</code>, <code>var_dump</code>, etc. will not be shown in the browser due to how the parser handles or ignores certain node types. The core package is configured to support the Symfony VarDumper, which doesn&#39;t have this problem and also has the benefit of sending the debugging output to Laravel Herd&#39;s Dumps feature if you run your project in that environment. To use:</p><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php"><pre><code><span class="line"><span class="token class-name class-name-fully-qualified static-context"><span class="token punctuation">\\</span>Symfony<span class="token punctuation">\\</span>Component<span class="token punctuation">\\</span>VarDumper<span class="token punctuation">\\</span>VarDumper</span><span class="token operator">::</span><span class="token function">dump</span><span class="token punctuation">(</span><span class="token variable">$thing_you_want_to_dump</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">Warning</p><p>If you are running the project through Herd, the debug output will <em>only</em> be shown in the Dumps window, and not in your browser.</p></div></details>`,2)),e("details",W,[t[32]||(t[32]=e("summary",null,'"Class not found" errors in the browser when running through Laravel Herd',-1)),e("p",null,[t[24]||(t[24]=n("Make sure the ")),t[25]||(t[25]=e("code",null,"php.ini",-1)),t[26]||(t[26]=n(" file for the currently selected version of PHP in Herd contains the append and prepend values for the ")),t[27]||(t[27]=e("code",null,"wrapper_open",-1)),t[28]||(t[28]=n(" and ")),t[29]||(t[29]=e("code",null,"wrapper_close",-1)),t[30]||(t[30]=n(" files. See the ")),o(u,{to:"/testing/browser.html"},{default:s(()=>t[23]||(t[23]=[n("browser testing")])),_:1}),t[31]||(t[31]=n(" page for full details."))]),t[33]||(t[33]=e("p",null,[n("If that configuration is correct and the class is one you recently added, try running "),e("code",null,"composer dump-autoload -o"),n(" in the root or the package where you added the file. This will regenerate the autoload files and ensure that any new classes are included.")],-1))]),t[37]||(t[37]=r(`<details class="hint-container details"><summary>WordPress running slowly when Xdebug is enabled</summary><p>When developing for the WordPress plugin, running with Xdebug on can slow things down. If loading the editor or saving seems unduly slow, test with Xdebug off to confirm if it&#39;s just that or if you have an actual performance issue.</p></details><h2 id="front-end-development" tabindex="-1"><a class="header-anchor" href="#front-end-development"><span>Front-end development</span></a></h2><details class="hint-container details"><summary>Component JavaScript not loading in the browser</summary><p>Is the script loaded either independently, or as part of the <code>dist.js</code> bundle? If not, either:</p><ul><li>Add a script tag (or in WordPress, <code>wp_enqueue_script</code>) to load it, remembering that you may need to put the <code>type=&quot;module&quot;</code> attribute on the script tag</li><li>Add the script to <code>rollup.index.js</code> and run <code>npm run build</code></li><li>If the script is to be included in the bundle, ensure the import path remapping in <code>rollup.config.js</code> will resolve any imports in the file correctly.</li></ul><p>If the script is listed in <code>rollup.index.js</code> and the import path transformation seems correct, try running <code>npm run build</code> - maybe the file watcher didn&#39;t auto-compile it when expected.</p></details><details class="hint-container details"><summary>Sass not recompiling when an imported file changes</summary><p>In PhpStorm, try running &quot;reload all from disk&quot; to make it realise the file has changed. If that doesn&#39;t help, make a whitespace change in the file you want to recompile (not the one that&#39;s imported, that you already actually changed).</p></details><h2 id="testing" tabindex="-1"><a class="header-anchor" href="#testing"><span>Testing</span></a></h2><details class="hint-container details"><summary>Missing Playwright browsers in Windows</summary><p>In a separate PowerShell window with admin privileges:</p><div class="language-powershell" data-highlighter="prismjs" data-ext="powershell"><pre><code><span class="line">npx playwright install firefox</span>
<span class="line"></span></code></pre></div></details><details class="hint-container details"><summary>Missing syntax highlighting in Playwright spec files</summary><p>Make sure the package containing definitions is listed in the root <code>tsconfig.json</code> file. For example, JS testing tools such as Playwright need to be added here for syntax highlighting to work in PhpStorm, like so:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">	<span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">			<span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">&quot;playwright&quot;</span></span>
<span class="line">		<span class="token punctuation">]</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In PhpStorm, you may also need to:</p><ul><li>add Playwright to the JS libraries under <code>Settings &gt; Languages &amp; Frameworks &gt; JavaScript &gt; Libraries</code>. Include all of <code>@playwright/test</code>, <code>playwright</code>, and <code>playwright-core</code></li><li>Uncheck &quot;use types from server&quot; in the TypeScript settings under <code>Settings &gt; Languages &amp; Frameworks &gt; TypeScript</code></li><li>You may also need to restart the TypeScript service and wait a minute or so to ensure the changes take effect, and/or close and reopen any Playwright files currently open. The restart option is usually located in the bottom right of the IDE. If it&#39;s still not refreshing, try invalidating caches and restarting the IDE (<code>File &gt; Invalidate Caches / Restart...</code>).</li></ul></details><details class="hint-container details"><summary>Playwright Error: locator.evaluate: Target page, context or browser has been closed</summary><p>When trying to use the same page for multiple tests, you may get this error because the page closes prematurely when tests are running in parallel. You can instead run them in sequence using <code>test.describe.serial</code> instead of just <code>test.describe</code>.</p></details>`,8))])}const A=b(P,[["render",j]]),D=JSON.parse('{"path":"/troubleshooting.html","title":"Troubleshooting","lang":"en-AU","frontmatter":{"title":"Troubleshooting","position":9},"headers":[{"level":2,"title":"Local development environment","slug":"local-development-environment","link":"#local-development-environment","children":[]},{"level":2,"title":"Front-end development","slug":"front-end-development","link":"#front-end-development","children":[]},{"level":2,"title":"Testing","slug":"testing","link":"#testing","children":[]}],"git":{"updatedTime":1743912814000,"contributors":[{"name":"Leesa Ward","username":"","email":"leesa@doubleedesign.com.au","commits":12}],"changelog":[{"hash":"ea12562bd62fb43e8749744071ebb11f1cbd20f5","time":1743912814000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"Docs: Add some Playwright troubleshooting notes; update build"},{"hash":"7d15f09f18c9133c0dce33d0572fe87f1ab2f50c","time":1743834499000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"Add to quick start detail page; improve overall navigation incl. adding in-page sticky menu for some pages"},{"hash":"9327d3d2a273c6125f395c48ab9acfe1e6b6df85","time":1743766162000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"Add quick start dev guide, move detail pages, and simplify sidebar"},{"hash":"1fc876f65b45e5157e264799d11a4001598c7f08","time":1743327721000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"Refactor tests: Migrate unit tests to Pest"},{"hash":"c57f08f4073ef4a64aa9bc79d49a375d4a86a775","time":1743310427000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"Tooling: Enable using Herd for viewing test pages and using its Dumps for debugging"},{"hash":"a2519aef7d7ea6c5cda3c66142eba8ed17fcf14a","time":1743250619000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"Fix(Docs): Fix unwanted hard wraps; Docs: Add links to intro"},{"hash":"b1c17f88cb79eff67f4fa378b40bcec55ab9b3b9","time":1743247252000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"Troubleshoot Xdebug and document it"},{"hash":"4fda7f5158eab97de8674c8ee0e915539ee998b9","time":1743203983000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"Docs: Add PHP architecture overview; update page order and other tweaks"},{"hash":"8b540960a2d2a19bf7530fc92ee7e0b606d5a3cb","time":1742900302000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"Docs: Various doc tweaks"},{"hash":"66fb5fe50b78026e1071110aa2cb579899bd6844","time":1742802205000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"Fix: Syntax highlighting for Playwright files"},{"hash":"96739d78cd2179894e18d3c20ae079fb0b624f19","time":1742775592000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"Refactor: Move Vue loader stuff into core src so it stops creating Composer headaches"},{"hash":"bd46ea421c43d7241b0682e551b9810fce24a5c8","time":1742709938000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"Docs: Finish migrating docs to VuePress"}]},"filePathRelative":"troubleshooting.md"}');export{A as comp,D as data};
