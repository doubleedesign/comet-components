import{_ as m,c as g,b as e,a as u,e as i,w as t,d as l,r as d,o as h}from"./app-DTpylkEk.js";const b={},c={class:"table-of-contents"},v={class:"hint-container details"};function f(w,s){const o=d("router-link"),r=d("Tabs"),p=d("RouteLink");return h(),g("div",null,[s[58]||(s[58]=e("h1",{id:"creating-a-new-component",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#creating-a-new-component"},[e("span",null,"Creating a new component")])],-1)),e("nav",c,[e("ul",null,[e("li",null,[i(o,{to:"#quick-start"},{default:t(()=>s[0]||(s[0]=[l("Quick start")])),_:1}),e("ul",null,[e("li",null,[i(o,{to:"#_1-generate-boilerplate-code"},{default:t(()=>s[1]||(s[1]=[l("1. Generate boilerplate code")])),_:1})]),e("li",null,[i(o,{to:"#_2-compile-assets"},{default:t(()=>s[2]||(s[2]=[l("2. Compile assets")])),_:1})]),e("li",null,[i(o,{to:"#_3-generate-documentation"},{default:t(()=>s[3]||(s[3]=[l("3. Generate documentation")])),_:1})]),e("li",null,[i(o,{to:"#_4-prepare-for-browser-testing"},{default:t(()=>s[4]||(s[4]=[l("4. Prepare for browser testing")])),_:1})]),e("li",null,[i(o,{to:"#_5-view-in-storybook"},{default:t(()=>s[5]||(s[5]=[l("5. View in Storybook")])),_:1})])])]),e("li",null,[i(o,{to:"#further-reading"},{default:t(()=>s[6]||(s[6]=[l("Further reading")])),_:1})])])]),s[59]||(s[59]=u('<h2 id="quick-start" tabindex="-1"><a class="header-anchor" href="#quick-start"><span>Quick start</span></a></h2><h3 id="_1-generate-boilerplate-code" tabindex="-1"><a class="header-anchor" href="#_1-generate-boilerplate-code"><span>1. Generate boilerplate code</span></a></h3><p>To generate the boilerplate code for a new component, run the following command with <code>example</code> and <code>simple</code> replaced with the desired component name and type. Valid types are <code>simple</code>, <code>complex</code>, and <code>wrapper</code>.</p><p>Note: If using PowerShell <strong>or</strong> WSL with Node aliased to PowerShell, do not use equals signs.</p>',4)),i(r,{id:"18",data:[{id:"WSL (Bash)"},{id:"PowerShell"}],"tab-id":"shell"},{title0:t(({value:a,isActive:n})=>s[7]||(s[7]=[l("WSL (Bash)")])),title1:t(({value:a,isActive:n})=>s[8]||(s[8]=[l("PowerShell")])),tab0:t(({value:a,isActive:n})=>s[9]||(s[9]=[e("div",{class:"language-bash","data-highlighter":"prismjs","data-ext":"sh"},[e("pre",null,[e("code",null,[e("span",{class:"line"},[e("span",{class:"token function"},"npm"),l(" run generate component -- "),e("span",{class:"token parameter variable"},"--name"),e("span",{class:"token operator"},"="),l("YourThing "),e("span",{class:"token parameter variable"},"--type"),e("span",{class:"token operator"},"="),l("simple")]),l(`
`),e("span",{class:"line"})])])],-1)])),tab1:t(({value:a,isActive:n})=>s[10]||(s[10]=[e("div",{class:"language-powershell","data-highlighter":"prismjs","data-ext":"powershell"},[e("pre",null,[e("code",null,[e("span",{class:"line"},[l("npm run generate component "),e("span",{class:"token operator"},"--"),l(),e("span",{class:"token operator"},"--"),l("name YourThing "),e("span",{class:"token operator"},"--"),e("span",{class:"token function"},"type"),l(" simple")]),l(`
`),e("span",{class:"line"})])])],-1)])),_:1}),s[60]||(s[60]=e("h3",{id:"_2-compile-assets",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_2-compile-assets"},[e("span",null,"2. Compile assets")])],-1)),e("p",null,[s[12]||(s[12]=l("Add the SCSS file to ")),s[13]||(s[13]=e("code",null,"blocks.scss",-1)),s[14]||(s[14]=l(" or ")),s[15]||(s[15]=e("code",null,"template-parts.scss",-1)),s[16]||(s[16]=l(" (depending on what it is) in the WordPress plugin and run SASS to compile those. Alternatively you can set up ")),i(p,{to:"/development/tooling/phpstorm.html"},{default:t(()=>s[11]||(s[11]=[l("file watchers in PhpStorm")])),_:1}),s[17]||(s[17]=l(" to automatically compile all the SASS on save."))]),e("details",v,[s[22]||(s[22]=e("summary",null,"SASS terminal commands",-1)),i(r,{id:"33",data:[{id:"WSL (Bash)"},{id:"PowerShell"}],"tab-id":"shell"},{title0:t(({value:a,isActive:n})=>s[18]||(s[18]=[l("WSL (Bash)")])),title1:t(({value:a,isActive:n})=>s[19]||(s[19]=[l("PowerShell")])),tab0:t(({value:a,isActive:n})=>s[20]||(s[20]=[e("div",{class:"language-bash","data-highlighter":"prismjs","data-ext":"sh"},[e("pre",null,[e("code",null,[e("span",{class:"line"},[e("span",{class:"token builtin class-name"},"cd"),l(" packages/comet-plugin/src")]),l(`
`),e("span",{class:"line"})])])],-1),e("div",{class:"language-bash","data-highlighter":"prismjs","data-ext":"sh"},[e("pre",null,[e("code",null,[e("span",{class:"line"},"sass blocks.scss:blocks.css"),l(`
`),e("span",{class:"line"})])])],-1),e("div",{class:"language-bash","data-highlighter":"prismjs","data-ext":"sh"},[e("pre",null,[e("code",null,[e("span",{class:"line"},"sass template-parts.scss:template-parts.css"),l(`
`),e("span",{class:"line"})])])],-1),e("div",{class:"language-bash","data-highlighter":"prismjs","data-ext":"sh"},[e("pre",null,[e("code",null,[e("span",{class:"line"},"sass editor.scss:editor.css"),l(`
`),e("span",{class:"line"})])])],-1)])),tab1:t(({value:a,isActive:n})=>s[21]||(s[21]=[e("div",{class:"language-powershell","data-highlighter":"prismjs","data-ext":"powershell"},[e("pre",null,[e("code",null,[e("span",{class:"line"},"cd packages/comet-plugin/src"),l(`
`),e("span",{class:"line"})])])],-1),e("div",{class:"language-powershell","data-highlighter":"prismjs","data-ext":"powershell"},[e("pre",null,[e("code",null,[e("span",{class:"line"},[l("sass blocks"),e("span",{class:"token punctuation"},"."),l("scss:blocks"),e("span",{class:"token punctuation"},"."),l("css")]),l(`
`),e("span",{class:"line"})])])],-1),e("div",{class:"language-powershell","data-highlighter":"prismjs","data-ext":"powershell"},[e("pre",null,[e("code",null,[e("span",{class:"line"},[l("sass template-parts"),e("span",{class:"token punctuation"},"."),l("scss:template-parts"),e("span",{class:"token punctuation"},"."),l("css")]),l(`
`),e("span",{class:"line"})])])],-1),e("div",{class:"language-powershell","data-highlighter":"prismjs","data-ext":"powershell"},[e("pre",null,[e("code",null,[e("span",{class:"line"},[l("sass editor"),e("span",{class:"token punctuation"},"."),l("scss:editor"),e("span",{class:"token punctuation"},"."),l("css")]),l(`
`),e("span",{class:"line"})])])],-1)])),_:1})]),e("p",null,[s[24]||(s[24]=l("If you add a custom front-end JavaScript file, add it to ")),s[25]||(s[25]=e("code",null,"rollup.index.js",-1)),s[26]||(s[26]=l(" in the Core package and run Rollup to update the bundle. (You can set up a ")),i(p,{to:"/development/tooling/phpstorm.html"},{default:t(()=>s[23]||(s[23]=[l("file watcher")])),_:1}),s[27]||(s[27]=l(" for this too.)"))]),s[61]||(s[61]=u(`<div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">npm</span> run build</span>
<span class="line"></span></code></pre></div><h3 id="_3-generate-documentation" tabindex="-1"><a class="header-anchor" href="#_3-generate-documentation"><span>3. Generate documentation</span></a></h3>`,2)),e("p",null,[s[29]||(s[29]=l("Once you have added fields and docblock comments to a component, generate the JSON definition file and ")),i(p,{to:"/usage/overview.html#tycho-template-syntax"},{default:t(()=>s[28]||(s[28]=[l("Tycho Template syntax")])),_:1}),s[30]||(s[30]=l(" XML definition file:"))]),i(r,{id:"58",data:[{id:"WSL (Bash)"},{id:"PowerShell"}],"tab-id":"shell"},{title0:t(({value:a,isActive:n})=>s[31]||(s[31]=[l("WSL (Bash)")])),title1:t(({value:a,isActive:n})=>s[32]||(s[32]=[l("PowerShell")])),tab0:t(({value:a,isActive:n})=>s[33]||(s[33]=[e("div",{class:"language-bash","data-highlighter":"prismjs","data-ext":"sh"},[e("pre",null,[e("code",null,[e("span",{class:"line"},[l("php scripts/generate-json-defs.php "),e("span",{class:"token parameter variable"},"--component"),l(" Example")]),l(`
`),e("span",{class:"line"})])])],-1)])),tab1:t(({value:a,isActive:n})=>s[34]||(s[34]=[e("div",{class:"language-powershell","data-highlighter":"prismjs","data-ext":"powershell"},[e("pre",null,[e("code",null,[e("span",{class:"line"},[l("php scripts/generate-json-defs"),e("span",{class:"token punctuation"},"."),l("php "),e("span",{class:"token operator"},"--"),l("component Example")]),l(`
`),e("span",{class:"line"})])])],-1)])),_:1}),s[62]||(s[62]=e("h3",{id:"_4-prepare-for-browser-testing",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_4-prepare-for-browser-testing"},[e("span",null,"4. Prepare for browser testing")])],-1)),e("ol",null,[e("li",null,[s[39]||(s[39]=e("p",null,"Generate the boilerplate code for a browser example page and Storybook story:",-1)),i(r,{id:"74",data:[{id:"WSL (Bash)"},{id:"PowerShell"}],"tab-id":"shell"},{title0:t(({value:a,isActive:n})=>s[35]||(s[35]=[l("WSL (Bash)")])),title1:t(({value:a,isActive:n})=>s[36]||(s[36]=[l("PowerShell")])),tab0:t(({value:a,isActive:n})=>s[37]||(s[37]=[e("div",{class:"language-bash","data-highlighter":"prismjs","data-ext":"sh"},[e("pre",null,[e("code",null,[e("span",{class:"line"},[l("php scripts/generate-stories.php "),e("span",{class:"token parameter variable"},"--component"),l(" Example")]),l(`
`),e("span",{class:"line"})])])],-1)])),tab1:t(({value:a,isActive:n})=>s[38]||(s[38]=[e("div",{class:"language-powershell","data-highlighter":"prismjs","data-ext":"powershell"},[e("pre",null,[e("code",null,[e("span",{class:"line"},[l("php scripts/generate-stories"),e("span",{class:"token punctuation"},"."),l("php "),e("span",{class:"token operator"},"--"),l("component Example")]),l(`
`),e("span",{class:"line"})])])],-1)])),_:1})]),e("li",null,[s[42]||(s[42]=e("p",null,"Update the symlinks so the local web server/Storybook can access the CSS and JS files:",-1)),i(r,{id:"87",data:[{id:"PowerShell"}],"tab-id":"shell"},{title0:t(({value:a,isActive:n})=>s[40]||(s[40]=[l("PowerShell")])),tab0:t(({value:a,isActive:n})=>s[41]||(s[41]=[e("div",{class:"language-powershell","data-highlighter":"prismjs","data-ext":"powershell"},[e("pre",null,[e("code",null,[e("span",{class:"line"},"npm run refresh:symlinks"),l(`
`),e("span",{class:"line"})])])],-1)])),_:1})]),s[43]||(s[43]=e("li",null,[e("p",null,[l("Update the generated file in "),e("code",null,"./test/browser/components"),l(" to have suitable demo content and handle "),e("code",null,"$_REQUEST"),l(" parameters if the basic handling generated by the script is not sufficient.")])],-1)),s[44]||(s[44]=e("li",null,[e("p",null,[l("Update the Storybook file in "),e("code",null,"./test/browser/stories"),l(" to ensure suitable examples are shown.")])],-1))]),s[63]||(s[63]=e("h3",{id:"_5-view-in-storybook",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_5-view-in-storybook"},[e("span",null,"5. View in Storybook")])],-1)),s[64]||(s[64]=e("p",null,"Run the local web server and Storybook (in two separate terminal tabs) to view the new component in the browser:",-1)),i(r,{id:"110",data:[{id:"WSL (Bash)"},{id:"PowerShell"}],"tab-id":"shell"},{title0:t(({value:a,isActive:n})=>s[45]||(s[45]=[l("WSL (Bash)")])),title1:t(({value:a,isActive:n})=>s[46]||(s[46]=[l("PowerShell")])),tab0:t(({value:a,isActive:n})=>s[47]||(s[47]=[e("div",{class:"language-bash","data-highlighter":"prismjs","data-ext":"sh"},[e("pre",null,[e("code",null,[e("span",{class:"line"},[e("span",{class:"token function"},"npm"),l(" run test:server")]),l(`
`),e("span",{class:"line"})])])],-1),e("div",{class:"language-bash","data-highlighter":"prismjs","data-ext":"sh"},[e("pre",null,[e("code",null,[e("span",{class:"line"},[e("span",{class:"token function"},"npm"),l(" run test:storybook")]),l(`
`),e("span",{class:"line"})])])],-1)])),tab1:t(({value:a,isActive:n})=>s[48]||(s[48]=[e("div",{class:"language-powershell","data-highlighter":"prismjs","data-ext":"powershell"},[e("pre",null,[e("code",null,[e("span",{class:"line"},"npm run test:server"),l(`
`),e("span",{class:"line"})])])],-1),e("div",{class:"language-powershell","data-highlighter":"prismjs","data-ext":"powershell"},[e("pre",null,[e("code",null,[e("span",{class:"line"},"npm run test:storybook"),l(`
`),e("span",{class:"line"})])])],-1)])),_:1}),s[65]||(s[65]=e("h2",{id:"further-reading",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#further-reading"},[e("span",null,"Further reading")])],-1)),e("ul",null,[e("li",null,[s[50]||(s[50]=l("See the ")),i(p,{to:"/technical-deep-dives/php-architecture/traits.html"},{default:t(()=>s[49]||(s[49]=[l("PHP Architecture")])),_:1}),s[51]||(s[51]=l(" section for details on the abstract classes you can use as a base for your component, the traits you can use to handle attributes that are used by multiple components in a consistent way, and some data types you can use for attributes."))]),e("li",null,[s[53]||(s[53]=l("See the ")),i(p,{to:"/technical-deep-dives/javascript.html"},{default:t(()=>s[52]||(s[52]=[l("JavaScript Overview")])),_:1}),s[54]||(s[54]=l(" page for details on how to use vanilla JavaScript to add simple client-side interactivity to your components."))]),e("li",null,[s[56]||(s[56]=l("See the ")),i(p,{to:"/technical-deep-dives/vue.html"},{default:t(()=>s[55]||(s[55]=[l("JavaScript Advanced: Vue.js")])),_:1}),s[57]||(s[57]=l(" page for details on how to selectively use Vue.js for a component for more advanced client-side interactivity and reactivity."))])])])}const S=m(b,[["render",f]]),x=JSON.parse('{"path":"/development/new-component.html","title":"Creating a new component","lang":"en-AU","frontmatter":{"position":3},"headers":[{"level":2,"title":"Quick start","slug":"quick-start","link":"#quick-start","children":[{"level":3,"title":"1. Generate boilerplate code","slug":"_1-generate-boilerplate-code","link":"#_1-generate-boilerplate-code","children":[]},{"level":3,"title":"2. Compile assets","slug":"_2-compile-assets","link":"#_2-compile-assets","children":[]},{"level":3,"title":"3. Generate documentation","slug":"_3-generate-documentation","link":"#_3-generate-documentation","children":[]},{"level":3,"title":"4. Prepare for browser testing","slug":"_4-prepare-for-browser-testing","link":"#_4-prepare-for-browser-testing","children":[]},{"level":3,"title":"5. View in Storybook","slug":"_5-view-in-storybook","link":"#_5-view-in-storybook","children":[]}]},{"level":2,"title":"Further reading","slug":"further-reading","link":"#further-reading","children":[]}],"git":{"updatedTime":1743250619000,"contributors":[{"name":"Leesa Ward","username":"","email":"leesa@doubleedesign.com.au","commits":5}],"changelog":[{"hash":"a2519aef7d7ea6c5cda3c66142eba8ed17fcf14a","time":1743250619000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"Fix(Docs): Fix unwanted hard wraps; Docs: Add links to intro"},{"hash":"4fda7f5158eab97de8674c8ee0e915539ee998b9","time":1743203983000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"Docs: Add PHP architecture overview; update page order and other tweaks"},{"hash":"529799e6963158623d0a136bbe3145ebbbaad07e","time":1743165091000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"Feature: Generate XML definition for Tycho syntax; update JSON defs"},{"hash":"8b540960a2d2a19bf7530fc92ee7e0b606d5a3cb","time":1742900302000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"Docs: Various doc tweaks"},{"hash":"593c083e86d6a8baa7e78e6af98e148d7f5d69b9","time":1742624410000,"email":"leesa@doubleedesign.com.au","author":"Leesa Ward","message":"More work on new docs; WIP on updating and improving doc generation for abstract classes/traits/types"}]},"filePathRelative":"development/new-component.md"}');export{S as comp,x as data};
